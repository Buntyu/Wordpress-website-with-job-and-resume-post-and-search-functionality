var $j=jQuery,jmfe={values:{},locale:{},query_vars:["m","p","posts","w","cat","withcomments","withoutcomments","s","search","exact","sentence","debug","calendar","page","paged","more","tb","pb","author","order","orderby","year","monthnum","day","hour","minute","second","name","category_name","tag","feed","author_name","static","pagename","page_id","error","comments_popup","attachment","attachment_id","subpost","subpost_id","preview","robots","taxonomy","term","cpage","post_type"],config:{fields:{all:["meta_key","type","taxonomy","options","label","description","placeholder","priority","required","default","output","output_as","output_caption","output_classes","output_show_label","output_oembed_width","output_oembed_height","output_check_true","output_check_false","output_priority","populate_enable","populate_meta_key","populate_save","populate_save_as","populate_default","output_video_allowdl","output_video_poster","output_video_height","output_video_width","packages_require","packages_show","multiple","ajax","admin_only","maxlength","image_link","size","min","max","step","pattern","title","prepend","append","output_full_wrap","output_enable_fw","output_value_wrap","output_label_wrap"],hidden:["options","taxonomy","default","multiple","maxlength","ajax","size","min","max","step","pattern","title","prepend","append"],output:["output","output_as","output_caption","output_classes","output_show_label","output_oembed_height","output_oembed_width","output_check_true","output_check_false","output_priority","image_link","output_full_wrap","output_enable_fw","output_value_wrap","output_enable_vw","output_label_wrap","output_video_allowdl","output_video_poster","output_video_height","output_video_width"],populate:["populate_enable","populate_meta_key","populate_save","populate_default","populate_save_as"],required:["meta_key","type"],noSpaces:["meta_key","taxonomy","min","max","step","maxlength","size","output_full_wrap","output_value_wrap","output_label_wrap"],onlyNum:["min","max","step","priority"],taxonomies:["job_type","job_category","resume_category","resume_skills"],checkboxes:["output_enable_fw","output_enable_vw","required","admin_only","ajax","multiple","output_show_label","populate_enable","populate_save","option_default","option_disabled","output_video_allowdl","packages_require","image_link"]},tabs:{all:["config","output","populate","options","packages","advanced"],hidden:["options","output"],custom:["output"]},popover:{hide:["options","meta_key","label","description","placeholder","priority","output","output_as","output_show_label","output_priority","origin","post_id"]}},callbacks:{}};jmfe.build={checkbox:function(){jmfe.config.checkbox={checked:{output_enable_fw:{show:["output_full_wrap"],hide:[]},output_enable_vw:{show:["output_value_wrap"]},output_show_label:{show:["output_label_wrap"]}},unchecked:{output_enable_fw:{hide:["output_full_wrap"]},output_enable_vw:{hide:["output_value_wrap"]},output_show_label:{hide:["output_label_wrap"]}}}},meta_keys:function(){jmfe.config.meta_keys={resume_category:{type_disabled_by:["select"],disable_types:["text","textarea","wp-editor","select","file","password","multiselect","radio","checkbox","date","phone","header","html","actionhook"],taxonomy:"resume_category&post_type=resume",not_required:["options"]},resume_skills:{type_disabled_by:["select"],disable_types:["textarea","wp-editor","select","file","password","multiselect","radio","checkbox","date","phone","header","html","actionhook"],taxonomy:"resume_skill&post_type=resume",not_required:["options"]},job_region:{type_disabled_by:["select"],disable_types:["text","textarea","wp-editor","select","file","password","multiselect","radio","checkbox","date","phone","header","html","actionhook"],taxonomy:"job_listing_region&post_type=job_listing",not_required:["options"]},job_category:{type_disabled_by:["select"],disable_types:["text","textarea","wp-editor","select","file","password","job-category","multiselect","radio","checkbox","date","phone","header","html","actionhook"],taxonomy:"job_listing_category&post_type=job_listing",not_required:["options"]},job_type:{type_disabled_by:["select"],disable_types:["text","textarea","wp-editor","select","file","password","multiselect","radio","checkbox","date","phone","header","html","actionhook"],taxonomy:"job_listing_type&post_type=job_listing",not_required:["options"]},job_tags:{disable_types:["textarea","wp-editor","select","file","password","radio","date","phone","checkbox","multiselect","term-select","header","html","actionhook"],taxonomy:"job_listing_tag&post_type=job_listing"},job_title:{disable_fields:["required_0","admin_only_0"],disable_types:["wp-editor","file","password","multiselect","checkbox","date","phone","term-checklist","term-multiselect","term-select","header","html","actionhook"],hidden_tabs:["packages"]},candidate_name:{disable_types:["wp-editor","file","password","multiselect","checkbox","date","phone","term-checklist","term-multiselect","term-select","header","html","actionhook"],disable_fields:["required_0","admin_only_0"],hidden_tabs:["packages"]},allow_linkedin:{disable_types:["textarea","select","radio","wp-editor","file","password","multiselect","text","date","phone","term-checklist","term-multiselect","term-select","header","html","actionhook"],hidden_fields:["required","admin_only","placeholder"],hidden_tabs:["packages"]},candidate_education:{hidden_tabs:["populate"],disable_fields:["meta_key"]},candidate_experience:{hidden_tabs:["populate"],disable_fields:["meta_key"]},links:{hidden_tabs:["populate"],disable_fields:["meta_key"]},resume_file:{disable_fields:["multiple_0"]},company_logo:{disable_fields:["multiple_0"]},featured_image:{disable_fields:["multiple_0","admin_only_0"]}},jmfe.locale.wpjmp_exists&&(jmfe.config.meta_keys.products={type_disabled_by:["multiselect"],hidden_tabs:["options","output"],disable_types:["text","textarea","wp-editor","select","file","password","radio","checkbox","date","phone","term-checklist","term-multiselect","term-select","header","html","actionhook"],not_required:["options"]})},outputs:function(){jmfe.config.outputs={all:{enable_fields:["output_classes","output_show_label","output_enable_fw","output_enable_vw","output_priority"],disable_fields:["output_caption","output_oembed_height","output_oembed_width","output_check_true","output_check_false","output_video_allowdl","output_video_poster","output_video_height","output_video_width","image_link"]},text:{},link:{enable_fields:["output_caption"]},image:{enable_fields:["image_link"]},oembed:{enable_fields:["output_oembed_height","output_oembed_width"]},checkcustom:{enable_fields:["output_check_true","output_check_false"]},video:{enable_fields:["output_video_allowdl","output_video_poster","output_video_height","output_video_width"]}}},types:function(){jmfe.config.types={text:{show:["title","default","maxlength","pattern"]},number:{show:["default","maxlength","min","max","size","pattern","step","title"]},range:{show:["default","min","max","step","title","prepend","append"],hide:["placeholder"],required:["max"]},password:{show:["maxlength"]},textarea:{show:["maxlength"]},file:{show_tabs:["options"],hide:["placeholder"],show:["multiple","ajax"],option_ph_label:jmfe.locale.options_ph_label.file,option_ph_value:jmfe.locale.options_ph_value.file,option_label:jmfe.locale.options_label.file,option_value:jmfe.locale.options_value.file,option_hide:["option_default","option_disabled"]},select:{show_tabs:["options"],hide:["placeholder"],required:["options"],option_ph_label:jmfe.locale.options_ph_label.select,option_ph_value:jmfe.locale.options_ph_value.select,option_label:jmfe.locale.options_label.select,option_value:jmfe.locale.options_value.select},multiselect:{show_tabs:["options"],hide:["placeholder"],required:["options"],option_ph_label:jmfe.locale.options_ph_label.select,option_ph_value:jmfe.locale.options_ph_value.select,option_label:jmfe.locale.options_label.select,option_value:jmfe.locale.options_value.select},radio:{show_tabs:["options"],hide:["placeholder"],required:["options"],option_ph_label:jmfe.locale.options_ph_label.select,option_ph_value:jmfe.locale.options_ph_value.select,option_label:jmfe.locale.options_label.select,option_value:jmfe.locale.options_value.select},"wp-editor":{hide:["placeholder"]},"term-checklist":{show:["taxonomy","default"],hide:["placeholder"],required:["taxonomy"]},"term-multiselect":{show:["taxonomy","default"],hide:[],required:["taxonomy"]},"term-select":{show:["taxonomy","default"],hide:["placeholder"],required:["taxonomy"]},header:{hide:["placeholder","required","admin_only"],hide_tabs:["output","populate"]},html:{hide:["placeholder","required"],hide_tabs:["output","populate"]},actionhook:{hide:["placeholder","required"],hide_tabs:["output","populate"]}}}},jmfe.ucfirst=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},jmfe.__query=function(a,b){for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]==b)return e[1]}return!1},jQuery(function(a){jmfelocale&&(jmfe.locale=jmfelocale),jmfe.build.types(),jmfe.build.meta_keys(),jmfe.build.outputs(),jmfe.build.checkbox(),jmfe.callbacks.page(a),jmfe.callbacks.list(a),jmfe.callbacks.settings(a);var b=a("#jmfe-listtype").val(),c=["resume_fields","job","company","resume"];-1==a.inArray(b,c)&&(jmfe.table.alert.show("updated","You have permissions to view these fields.  They are currently READ ONLY and you CAN NOT edit them yet.  Functionality to edit these fields will be added in a future release."),a("#jmfe-list-wrap").click(function(a){a.preventDefault()}).find("*").off())}),jmfe.callbacks.list=function(a){a(" .jmfe-action-link ").click(function(){jmfe.row=a(this).closest("tr"),a(".jmfe-meta_key-wrap").popover("hide")}),a(".jmfe-status-icons").hover(function(){a(this).popover("toggle")}),a(" #add-new-field ").click(function(){jmfe.modal["new"]()}),a(" .jmfe-action-edit ").click(function(){jmfe.modal.edit()}),a(" .jmfe-action-delete ").click(function(){jmfe.modal["delete"]()}),a(" .jmfe-action-view ").click(function(){jmfe.modal.view()}),a(" .jmfe-options-btn-view ").click(function(){a(this).closest("tr").children("td.column-meta_key").find("span.view a").click()}),a(" .jmfe-action-disable ").click(function(){var b=a(this).data("action");jmfe.modal.disable(b)}),a(".jmfe-list-filter").click(function(b){var c=a(this).data("filter");b.preventDefault(),jmfe.table.list.filter(c)}),jmfe.table.cache.table(),a(".jmfe-meta_key-wrap").each(function(){var b=a(this).closest("tr");if(b.data()){var c="<table>";a.each(b.data(),function(b,d){a.inArray(b,jmfe.config.popover.hide)>-1||(c=c+"<tr><td><strong>"+b+':</strong></td><td class="jmfe-qv-'+b+'-data">'+d+"</td></tr>")}),c+="</table>",a(this).data("title",b.data("meta_key")),a(this).data("content",c)}}).popover({container:"#wpwrap",animation:!0,html:!0,viewport:"#jmfe-popover-viewport",placement:"left auto",trigger:"hover"}),a(".tablenav-pages a, .manage-column.sortable a, .manage-column.sorted a").on("click",function(a){a.preventDefault();var b=this.search.substring(1);jmfe.table.list.filter(null,b)}),a("thead, tfoot").find(".check-column :checkbox").on("click.wp-toggle-checkboxes",function(b){var c=a(this),d=c.closest("table"),e=c.prop("checked"),f=b.shiftKey||c.data("wp-toggle");d.children("tbody").filter(":visible").children().children(".check-column").find(":checkbox").prop("checked",function(){return a(this).is(":hidden")?!1:f?!a(this).prop("checked"):e?!0:!1}),d.children("thead,  tfoot").filter(":visible").children().children(".check-column").find(":checkbox").prop("checked",function(){return f?!1:e?!0:!1})}),a(".bulkactions submit").click(function(a){a.preventDefault()}),a("#current-page-selector").bind("keydown","return",function(b){b.preventDefault();var c={paged:parseInt(a(this).val())||"1",order:a("input[name=order]").val()||"asc",orderby:a("input[name=orderby]").val()||"priority"};jmfe.table.list.filter(null,null,c)})},jmfe.callbacks.page=function(a){a(".jmfe-tab").click(function(){var b=a(this).data("tabgroup");jmfe.modal.tabs.show(b)}),a(" #jmfe-save-field ").click(function(){jmfe.modal.fields.check()&&jmfe.modal.save()}),a("#jmfe-modal-field_type-tr").on("change","#field_type",function(){var b=a(this).val();"none"!=a(this).val()?(jmfe.modal.alert.hide(),a(this).removeClass("jmfe-field-invalid")):a(this).addClass("jmfe-field-invalid"),jmfe.modal.type.changed(b)}),a("#jmfe-modal-field_output-tr").on("change","#field_output",function(){var b=a(this).val();jmfe.modal.fields.output.change(b)}),a("#jmfe-modal-field_output_as-tr").on("change","#field_output_as",function(){var b=a(this).val();jmfe.modal.fields.output.as.change(b)}),a(".jmfe-settings-config-content").on("input","#field_meta_key",function(){var b=a(this).val(),c=b.indexOf(" ")>=0,d=jmfe.values.modal_action;c?(jmfe.modal.alert.show("danger",jmfe.locale.meta_key_no_spaces,"#field_meta_key"),a(this).addClass("jmfe-field-invalid")):0==/^[a-z0-9_]*$/.test(b)?(jmfe.modal.alert.show("danger",jmfe.locale.meta_key_chars,"#field_meta_key"),a(this).addClass("jmfe-field-invalid")):"edit"===d&&b!=jmfe.values.meta_key?(jmfe.modal.alert.show("warning",jmfe.locale.edit_change_meta_key,"#field_meta_key"),a(this).addClass("jmfe-field-invalid")):jmfe.query_vars.indexOf(b)>-1?(jmfe.modal.alert.show("danger",jmfe.locale.meta_key_query_var,"#field_meta_key"),a(this).addClass("jmfe-field-invalid")):(jmfe.modal.alert.hide(),a(this).removeClass("jmfe-field-invalid"))}),a("#jmfe-modal-form").on("change",":checkbox",function(b){var c=a(this).prop("name");c&&jmfe.modal.checkboxes.check(c)}),a("body").on("input","[name*='options[option_value]']",function(){var b=a(this).val(),c=b.indexOf("~")>=0,d=b.indexOf("*")>=0,e=a(this).attr("id");c||d?(jmfe.modal.alert.show("danger",jmfe.locale.options_badchars,"#"+e),a(this).addClass("jmfe-field-invalid")):(jmfe.modal.alert.hide(),a(this).removeClass("jmfe-field-invalid"))}),a(".jmfe-modal-close").click(function(){jmfe.modal.hide()}),a(document).bind("keydown","esc",function(a){jmfe.modal.esckey(a)}),a(document).bind("keydown","return",function(a){jmfe.modal.returnkey(a)}),a(".jmfe-settings-config-content input").bind("keydown","return",function(a){jmfe.modal.returnkey(a)}),a(".jmfe-settings-config-content input").bind("keydown","esc",function(a){jmfe.modal.esckey(a)}),a("#meta_key-hide ").prop("disabled","disabled"),a("body").on("click",".jmfe-field-add-group-row-button",function(){var b=a(this),c=jmfe.modal.fields.options.template(),d=(c.rowid,c.template);if(b.data("field")){var e=b.data("field").split("-");d=d.replace(/\_\_i\_\_/g,e[e.length-2])}d=d.replace(/\_\_count\_\_/g,b.parent().parent().find(".groupitems").length),$j("#jmfe-options-form").append(d),jmfe.modal.fields.options.type()}),a("body").on("click",".jmfe-field-remove-group-row",function(){a(this).closest("table").remove()}),a("body").on("click","#jmfe-tab-options-group input[name*='options[option_default]']",function(b){var c=a("#field_type").val();"multiselect"!==c&&a(this).is(":checked")&&(a(".jmfe-option-default").prop("checked",!1),a(this).prop("checked",!0))})},jmfe.callbacks.settings=function(a){a("#jmfe_remove_all").click(function(a){return window.confirm(jmfe.locale.remove_all_confirm)?!0:!1}),a("#jmfe_enable_optional_label").on("click",function(b){a(this).is(":checked")&&a("#jmfe_enable_required_label").prop("checked",!1)}),a("#jmfe_enable_required_label").on("click",function(b){a(this).is(":checked")&&a("#jmfe_enable_optional_label").prop("checked",!1)}),a("#jmfe_enable_resume_optional_label").on("click",function(b){a(this).is(":checked")&&a("#jmfe_enable_resume_required_label").prop("checked",!1)}),a("#jmfe_enable_resume_required_label").on("click",function(b){a(this).is(":checked")&&a("#jmfe_enable_resume_optional_label").prop("checked",!1)})},jmfe.table={show:function(){$j("#jmfe-form-wrap").show()},hide:function(){$j("#jmfe-form-wrap").hide()},loader:{show:function(){jmfe.table.hide(),$j("#jmfe-list-spin").show()},hide:function(){$j("#jmfe-list-spin").hide(),jmfe.table.show()}},cache:{table:function(){jmfe.table.field_group=$j("#jmfe-listtype").val(),jmfe.table.field_group_parent=$j("#jmfe-listtype-parent").val(),jmfe.table.filter=$j("#jmfe-listfilter").val()},values:function(a){a||(a=jmfe.row),a.length&&$j.each(a.data(),function(a,b){jmfe.values[a]=b})}},flash:function(a,b){var c=$j(a);if(c){var d=c.offset().top-$j(window).height()/2;$j("html,body").animate({scrollTop:d});var e="jmfe-alert-updated";"error"==b&&(e="jmfe-alert-error"),c.addClass(e),setTimeout(function(){c.removeClass(e)},2e3)}},alert:{show:function(a,b){var c;"error"==a&&(c='<strong class="jmfe-alert-pre"><i class="fa fa-exclamation-triangle"></i> '+jmfe.locale.error+"!</strong> "),"updated"==a&&(c='<strong class="jmfe-alert-pre"><i class="fa fa-check"></i> '+jmfe.locale.success+"!</strong> "),$j(".jmfe-table-alert").removeClass("error").removeClass("updated").addClass(a),$j(".jmfe-table-alert-content").html(c+b),$j(".jmfe-table-alert").show()},hide:function(){$j(".jmfe-table-alert").hide()}},list:{}},jmfe.modal={show:function(){$j("#jmfe-modal-panel").show()},hide:function(){$j("#jmfe-modal-panel").hide()},returnkey:function(a){jmfe.modal.visible()&&jmfe.modal.fields.check()&&(a.preventDefault(),jmfe.modal.save())},esckey:function(a){a.preventDefault(),jmfe.modal.hide()},visible:function(){return"none"==$j("#jmfe-modal-panel").css("display")?!1:!0},reset:function(){jmfe.modal.loader.hide(),jmfe.modal.buttons.reset(),jmfe.modal.fields.clear(),jmfe.modal.fields.reset(),jmfe.modal.alert.hide(),jmfe.modal.confirm.hide(),jmfe.modal.tabs.reset(),jmfe.modal.form.show()},form:{show:function(){$j(".jmfe-modal-content").height("auto").width("auto"),$j(".jmfe-modal-body").show()},hide:function(){$j(".jmfe-modal-body").hide()}},confirm:{show:function(){$j(".jmfe-modal-content").height("35%").width("35%"),jmfe.modal.buttons.hero.enable(),jmfe.modal.buttons.text.primary(jmfe.ucfirst(jmfe.locale.yes)),jmfe.modal.buttons.text.secondary(jmfe.ucfirst(jmfe.locale.no)),jmfe.modal.form.hide(),$j(".jmfe-modal-other").show()},hide:function(){jmfe.modal.buttons.hero.disable(),jmfe.modal.buttons.text.secondary(jmfe.locale.cancel),$j(".jmfe-modal-other").hide()},content:function(a){$j(".jmfe-other").html(a)}},alert:{hide:function(){$j(".jmfe-alert").hide()},show:function(a,b,c){if($j(".jmfe-alert").removeClass("alert-danger").removeClass("alert-success").removeClass("alert-info").removeClass("alert-warning").addClass("alert-"+a),$j(".jmfe-alert-content").html(b),c){var d=$j(".jmfe-settings-config-content "+c).closest(".group").data("tabgroup");$j("#jmfe-tab-"+d).click(),$j(".jmfe-settings-config-content "+c).addClass("jmfe-field-invalid").focus()}$j(".jmfe-alert").show()}},set:{title:function(a,b){a&&($j(".jmfe-title-large").html(a),b||(b=jmfe.values.meta_key),$j(".jmfe-title-small").html(b))},action:function(a){a&&($j(".jmfe-modal").data("action",a),jmfe.values.modal_action=a)}},get:{meta_key:function(){return $j("#field_meta_key").val()},action:function(){var a=$j(".jmfe-modal").data("action");return a&&jmfe.modal.set.action(a),jmfe.values.modal_action},all:function(){var a=jmfe.config.fields.all;$j.each(a,function(a,b){-1!==$j.inArray(b,jmfe.config.fields.checkboxes)?jmfe.modal.get.checkbox(b):jmfe.values[b]=$j(".jmfe-settings-config-content").find("#field_"+b).val()})},checkbox:function(a){$j("#field_"+a+"_0").prop("checked")?jmfe.values[a]=1:jmfe.values[a]=0}},loader:{show:function(){jmfe.modal.form.hide(),jmfe.modal.confirm.hide(),jmfe.modal.alert.hide(),jmfe.modal.buttons.hide.all(),$j(".jmfe-modal-spin-wrapper").fadeIn()},hide:function(){jmfe.modal.buttons.show.all(),$j(".jmfe-modal-spin-wrapper").hide(),jmfe.modal.form.show()}}},jmfe.settings={},jmfe.modal["new"]=function(){jmfe.modal.reset();var a=$j("#jmfe-table-title").val();jmfe.modal.set.action("new"),jmfe.modal.set.title(jmfe.locale.add_new_field,a),jmfe.modal.buttons.text.primary(jmfe.locale.add_new_field),jmfe.modal.tabs.nav.custom.check(),jmfe.modal.fields.output.as.checkbox.disable(),jmfe.modal.show()},jmfe.modal.edit=function(){jmfe.modal.reset(),jmfe.table.cache.values(),jmfe.modal.set.action("edit"),jmfe.modal.set.title(jmfe.locale.edit_field),jmfe.modal.fields.load(),jmfe.modal.buttons.text.primary(jmfe.locale.save_field),jmfe.modal.show()},jmfe.modal.view=function(){jmfe.modal.reset(),jmfe.table.cache.values(),jmfe.modal.set.action("view"),jmfe.modal.set.title(jmfe.locale.view_field),jmfe.modal.fields.load(),jmfe.modal.buttons.text.secondary(jmfe.locale.close),jmfe.modal.buttons.hide.primary(),jmfe.modal.alert.show("info",jmfe.locale.view_alert),jmfe.modal.fields.disable.all(),jmfe.modal.show()},jmfe.modal["delete"]=function(){jmfe.modal.reset(),jmfe.table.cache.values(),jmfe.modal.set.action("delete"),jmfe.modal.set.title(jmfe.locale.remove_field),jmfe.modal.confirm.content("<h2>"+jmfe.locale.ays_remove+" <code>"+jmfe.values.meta_key+"</code></h2>"),jmfe.modal.confirm.show(),jmfe.modal.show()},jmfe.modal.disable=function(a){if(jmfe.modal.reset(),jmfe.table.cache.values(),jmfe.modal.set.action(a),"enable"==a)var b=jmfe.locale.enable_field,c=jmfe.locale.ays_enable;if("disable"==a)var b=jmfe.locale.disable_field,c=jmfe.locale.ays_disable;jmfe.modal.set.title(b),jmfe.modal.confirm.content("<h2>"+c+" <code>"+jmfe.values.meta_key+"</code></h2>"),jmfe.modal.confirm.show(),jmfe.modal.show()},jmfe.modal.buttons={hero:{enable:function(){jmfe.modal.buttons.primary().addClass("button-hero"),jmfe.modal.buttons.secondary().addClass("button-hero")},disable:function(){jmfe.modal.buttons.primary().removeClass("button-hero"),jmfe.modal.buttons.secondary().removeClass("button-hero")}},show:{primary:function(){jmfe.modal.buttons.primary().show()},secondary:function(){jmfe.modal.buttons.secondary().show()},all:function(){jmfe.modal.buttons.show.primary(),jmfe.modal.buttons.show.secondary()}},hide:{primary:function(){jmfe.modal.buttons.primary().hide()},secondary:function(){jmfe.modal.buttons.secondary().hide()},all:function(){jmfe.modal.buttons.hide.primary(),jmfe.modal.buttons.hide.secondary()}},primary:function(){return $j(".jmfe-primary-button")},secondary:function(){return $j(".jmfe-secondary-button")},reset:function(){jmfe.modal.buttons.hero.disable(),jmfe.modal.buttons.show.all(),jmfe.modal.buttons.text.secondary(jmfe.locale.cancel)},text:{primary:function(a){jmfe.modal.buttons.primary().html(a)},secondary:function(a){jmfe.modal.buttons.secondary().html(a)}}},jmfe.modal.checkboxes={checked:function(a){var b=jmfe.config.checkbox.checked;b[a]&&(jmfe.modal.checkboxes.show(b[a]),jmfe.modal.checkboxes.hide(b[a]))},unchecked:function(a){var b=jmfe.config.checkbox.unchecked;b[a]&&(jmfe.modal.checkboxes.show(b[a]),jmfe.modal.checkboxes.hide(b[a]))},show:function(a){a.show&&$j.each(a.show,function(a,b){jmfe.modal.fields.show(b)})},hide:function(a){a.hide&&$j.each(a.hide,function(a,b){jmfe.modal.fields.hide(b)})},check:function(a){$j("#field_"+a+"_0").is(":checked")?jmfe.modal.checkboxes.checked(a):jmfe.modal.checkboxes.unchecked(a)},output_as:{change:function(){$j("#jmfe-output-form :checkbox").each(function(a,b){var c=$j(this).prop("name");jmfe.modal.checkboxes.check(c)})}}},jmfe.modal.fields={show:function(a){a||$j(".jmfe-modal-fields-config").show(),$j("#jmfe-modal-field_"+a+"-tr").show()},hide:function(a){a||$j(".jmfe-modal-field").hide(),$j("#jmfe-modal-field_"+a+"-tr").hide()},reset:function(a,b){jmfe.modal.fields.show(),jmfe.modal.fields.enable.all(a),$j("#jmfe-modal-field_taxonomy-tr .description").html('<a target="_blank" href="http://codex.wordpress.org/Taxonomies">WordPress Taxonomy</a>'),$j("label[for=field_option_label]").html(jmfe.config.types.select.option_label),$j("label[for=field_option_value]").html(jmfe.config.types.select.option_value),$j("#jmfe-modal-unknown-field_type").html(),$j("#jmfe-modal-unknown-field_type").hide(),$j("#field_type").show(),$j.each(jmfe.config.fields.hidden,function(a,b){jmfe.modal.fields.hide(b)}),jmfe.modal.fields.output.reset(),jmfe.modal.fields.options.reset(),jmfe.modal.fields.packages.reset()},clear:function(){jmfe.values={},$j(".jmfe-settings-config-content input, select").removeClass("jmfe-field-invalid"),$j(".jmfe-settings-config-content input:not(:checkbox), textarea").val(""),$j('.jmfe-settings-config-content #field_type option[value="none"]').prop("selected",!0),$j('.jmfe-settings-config-content #field_output option[value="none"]').prop("selected",!0),$j('#field_output_as option[value="text"]').prop("selected",!0),$j.each(jmfe.config.fields.checkboxes,function(a,b){$j("#field_"+b+"_0").prop("checked",!1)})},disable:{all:function(){$j(".jmfe-modal-table input, select, textarea").each(function(){$j(this).prop("disabled",!0)})}},enable:{all:function(a){var b=".jmfe-modal-table input, select, textarea";a||(b+=", option"),$j(b).each(function(){$j(this).prop("disabled",!1)}),$j("#field_type option:first").prop("disabled",!0),$j("option.disabled").prop("disabled",!0)}}},jmfe.modal.fields.check=function(){var a=["enable","disable","delete"];if(-1!==$j.inArray(jmfe.modal.get.action(),a))return!0;jmfe.modal.get.all();var b,c=jmfe.config.meta_keys[jmfe.values.meta_key],d=jmfe.config.fields.required;jmfe.config.types[jmfe.values.type]&&jmfe.config.types[jmfe.values.type].required&&(d=$j.merge($j.merge([],d),jmfe.config.types[jmfe.values.type].required));var e=$j("#field_type").data("unknown");return e&&(jmfe.values.type=$j("#jmfe-modal-unknown-field_type").html()),$j.each(d,function(a,d){return c&&c.not_required&&-1!==$j.inArray(d,c.not_required)?!0:"options"===d?jmfe.modal.fields.options.check()?!0:(jmfe.modal.alert.show("danger",jmfe.locale.options_required),jmfe.modal.tabs.show("options"),b=!0,!1):jmfe.values[d]?void 0:(jmfe.modal.alert.show("danger",jmfe.locale.field_required,"#field_"+d),b=!0,!1)}),$j.each(jmfe.config.fields.noSpaces,function(a,c){return jmfe.values[c].indexOf(" ")>=0?(jmfe.modal.alert.show("danger",jmfe.locale.no_spaces,"#field_"+c),b=!0,!1):void 0}),$j.each(jmfe.config.fields.onlyNum,function(a,c){return isFinite(String(jmfe.values[c]))?void 0:(jmfe.modal.alert.show("danger",jmfe.locale.only_num,"#field_"+c),b=!0,!1)}),0==/^[a-z0-9_]*$/.test(jmfe.values.meta_key)?(jmfe.modal.alert.show("danger",jmfe.locale.meta_key_chars,"#field_meta_key"),b=!0,!1):(jmfe.values.priority||(jmfe.values.priority=2),b?!1:!0)},jmfe.modal.fields.load=function(){return jmfe.values?(jmfe.values.type&&(jmfe.modal.type.changed(jmfe.values.type),jmfe.modal.type.check(jmfe.values.type)),$j.each(jmfe.values,function(a,b){if($j.inArray(a,jmfe.config.fields.checkboxes)>-1&&(a+="_0"),"type"!=a)if("output"==a)jmfe.modal.fields.output.load(b);else if("options"==a)jmfe.modal.fields.options.load(b);else if("packages_show"==a)jmfe.modal.fields.packages.load(b);else{var c=$j(".jmfe-settings-config-content").find("#field_"+a);c.length&&("checkbox"===c.prop("type")&&(1===parseInt(b)&&c.prop("checked",!0).trigger("change"),0===parseInt(b)&&c.prop("checked",!1).trigger("change")),c.val(b))}}),jmfe.modal.tabs.nav.custom.check(),void jmfe.modal.fields.metakey.doconfig()):!1},jmfe.modal.fields.metakey={doconfig:function(a){a||(a=$j("#field_meta_key").val());var b=jmfe.config.meta_keys[a],c=jmfe.config.fields.taxonomies,d=jmfe.modal.fields;b&&(b.disable_fields&&$j.each(b.disable_fields,function(a,b){$j("#field_"+b).prop("disabled",!0)}),b.hidden_fields&&$j.each(b.hidden_fields,function(a,b){d.hide(b)}),b.hidden_tabs&&$j.each(b.hidden_tabs,function(a,b){jmfe.modal.tabs.nav.hide(b)}),b.disable_types&&$j.each(b.disable_types,function(a,c){return b.type_disabled_by&&jmfe.values.type==c&&-1!==$j.inArray(c,b.type_disabled_by)?($j("#field_type").prop("disabled",!0),!1):void $j("#field_type option[value="+c+"]").prop("disabled",!0)}),$j.inArray(a,c)>-1&&jmfe.modal.taxonomy.show.edit_url(b.taxonomy))}},jmfe.modal.fields.options={check:function(){var a;return $j("input[name*='options[option_value]']").each(function(b,c){if(a)return!1;var d=$j(this).val(),e=$j(this).attr("id");return"field_option_value"!==e||d?void(a||d||$j(this).closest("table").remove()):(a=!0,!1)}),a?!1:!0},type:function(a){if(!a)var a=jmfe.config.types[jmfe.values.type];a&&(a.option_label&&$j("label[for^='field_'][for$='option_label']").html(a.option_label),a.option_value&&$j("label[for^='field_'][for$='option_value']").html(a.option_value),a.option_ph_label&&$j("input[name*='options[option_label]']").attr("placeholder",a.option_ph_label),a.option_ph_value&&$j("input[name*='options[option_value]']").attr("placeholder",a.option_ph_value),a.option_hide&&($j.inArray("option_default",a.option_hide)>-1&&$j(".jmfe-modal-fields-options-option_default").hide(),$j.inArray("option_disabled",a.option_hide)>-1&&$j(".jmfe-modal-fields-options-option_disabled").hide()))},reset:function(){$j("#jmfe-options-form table").not(":eq(0)").remove(),$j(".jmfe-modal-fields-options").show()},template:function(){var a=jmfe.config.types[jmfe.values.type],b="",c="";a&&a.option_hide&&($j.inArray("option_default",a.option_hide)>-1&&(b="display: none;"),$j.inArray("option_disabled",a.option_hide)>-1&&(c="display: none;"));var d=jmfe.modal.fields.options.randomUUID(),e=$j("#jmfe-modal-field_option_label-tr label").html(),f=$j("#jmfe-modal-field_option_value-tr label").html(),g=$j("#jmfe-modal-field_option_default-tr label").html(),h=$j("#jmfe-modal-field_option_disabled-tr label").html(),i=$j("#group-options-tmpl").html().replace(/{{id}}/g,d),i=i.replace(/{{label_option_value}}/g,f),i=i.replace(/{{label_option_label}}/g,e),i=i.replace(/{{label_option_default}}/g,g),i=i.replace(/{{label_option_disabled}}/g,h),i=i.replace(/{{style_option_default}}/g,b),i=i.replace(/{{style_option_disabled}}/g,c),j={rowid:d,template:i};return j},load:function(a){if("products"!==jmfe.values.meta_key||"listify"!==jmfe.locale.theme_name)for(var b=jmfe.modal.fields.options.convert(a),c=0;c<b.length;c++)if(0!==c){var d=jmfe.modal.fields.options.template(),e=d.rowid,f=d.template;f=f.replace(/\_\_count\_\_/g,$j("#jmfe-options-form table").length),$j("#jmfe-options-form").append(f),$j("#field_"+e+"_option_label").val(b[c].caption),$j("#field_"+e+"_option_value").val(b[c].value),b[c].disabled&&$j("#field_"+e+"_option_disabled_0").prop("checked",!0),b[c]["default"]&&$j("#field_"+e+"_option_default_0").prop("checked",!0)}else $j("#field_option_label").val(b[0].caption),$j("#field_option_value").val(b[0].value),b[0].disabled&&$j("#field_option_disabled_0").prop("checked",!0),b[0]["default"]&&$j("#field_option_default_0").prop("checked",!0)},convert:function(a){var b=(a.split(","),[]),c=a.replace(/([^\\]),/g,"$1").split("");return $j.each(c,function(a,c){var d={};if(c.indexOf("*")>=0&&(c=c.replace("*",""),d["default"]=1),c.indexOf("~")>=0&&(c=c.replace("~",""),d.disabled=1),c.indexOf("||")>=0){var e=c.split("||");d.value=e[0].replace(/\\/g,""),d.caption=e[1].replace(/\\/g,"")}else c=c.replace(/\\/g,""),d.value=c,d.caption=c.toUpperCase();b.push(d)}),b},randomUUID:function(){for(var a=[],b=0;6>b;b++)a[b]=Math.floor(16*Math.random());return a.join("")}},jmfe.modal.fields.output={show:function(a){jmfe.modal.tabs.nav.show("output"),$j("#jmfe-modal-field_output-tr").show(),a&&jmfe.modal.fields.output.as.show()},reset:function(){$j('#field_output option[value="none"]').prop("selected",!0),jmfe.modal.fields.output.as.hide()},load:function(a){var b=(jmfe.values.origin,jmfe.values.output),c=jmfe.values.output_as;if(jmfe.modal.tabs.nav.custom.check(),b){var d=$j('#field_output option[value="'+b+'"]').length,e=$j('#field_output_as option[value="'+c+'"]').length;d>0&&(jmfe.modal.fields.output.show(),$j('#field_output option[value="'+b+'"]').prop("selected",!0),e>0&&"none"!=b&&(jmfe.modal.fields.output.as.show(),$j('#field_output_as option[value="'+c+'"]').prop("selected",!0),jmfe.modal.fields.output.as.change(c)))}},change:function(a){if(a||(a=$j("#field_output").val()),"none"===a)jmfe.modal.fields.output.as.hide();else{var b=$j("#field_output_as").val();$j("#jmfe-modal-field_output_as-tr").show(),jmfe.modal.fields.output.as.change(b)}}},jmfe.modal.fields.output.as={
hide:function(){$j.each(jmfe.config.fields.output,function(a,b){"output"!=b&&$j("#jmfe-modal-field_"+b+"-tr").hide()})},show:function(){$j("#jmfe-modal-field_output_as-tr").show()},change:function(a){var b=jmfe.config.outputs[a];$j.each(jmfe.config.outputs.all.enable_fields,function(a,b){jmfe.modal.fields.show(b)}),$j.each(jmfe.config.outputs.all.disable_fields,function(a,b){jmfe.modal.fields.hide(b)}),b&&b.enable_fields&&$j.each(b.enable_fields,function(a,b){jmfe.modal.fields.show(b)}),jmfe.modal.checkboxes.output_as.change(),jmfe.modal.fields.output.as.checkbox.check()},checkbox:{disable:function(){$j('#field_output_as option[value="checklabel"]').prop("disabled",!0),$j('#field_output_as option[value="checkcustom"]').prop("disabled",!0)},enable:function(){$j('#field_output_as option[value="checklabel"]').prop("disabled",!1),$j('#field_output_as option[value="checkcustom"]').prop("disabled",!1)},check:function(a){a||(a=$j("#field_type").val()),"checkbox"===a?jmfe.modal.fields.output.as.checkbox.enable():jmfe.modal.fields.output.as.checkbox.disable()}}},jmfe.modal.fields.packages={load:function(a){a=a.toString(),a.indexOf(",")>=0?(a=a.split(","),$j.each(a,function(a,b){$j("#jmfe-modal-field_packages_show-tr input[value='"+b+"']").attr("checked",!0)})):$j("#jmfe-modal-field_packages_show-tr input[value='"+a+"']").attr("checked",!0)},reset:function(){$j("input[name*='packages_show[0]']").attr("checked",!1)}},jmfe.modal.save=function(){jmfe.modal.wp_nonce="GI9R8WBLOdAHJn6YQoNrYQEE";var a,b="",c=jmfe.modal.get.action();jmfe.values||jmfe.modal.fields.check();var d=$j("#jmfe-modal-form").serialize(),e=$j("#current-page-selector").val();if(a={modal_action:c,action:"jmfe_save_field",nonce:$j("#jmfe_save_field").val(),field_group:jmfe.table.field_group,field_group_parent:jmfe.table.field_group_parent,filter:jmfe.table.filter,post_id:jmfe.values.post_id,meta_key:jmfe.values.meta_key,type:jmfe.values.type},$j("#field_required_0").is(":disabled")&&(a.required=$j("#field_required_0").val()),e&&(a.paged=e),d+="&"+$j.param(a),"disable"===c||"enable"===c){var d=jmfe.values;d.action="jmfe_save_field",d.nonce=$j("#jmfe_save_field").val(),d.field_group=jmfe.table.field_group,d.field_group_parent=jmfe.table.field_group_parent,d.filter=jmfe.table.filter,e&&(d.paged=e)}$j.ajax(ajaxurl,{type:"POST",dataType:"JSON",data:d,beforeSend:function(){jmfe.modal.loader.show()},error:function(a,b,c){var d;if(a.responseText){d=a.responseText;var e=$j(".xdebug-error th:first",a.responseText).html();e&&(d=e)}else d=jmfe.locale.error+"! "+c;jmfe.table.alert.show("error",d+"<br/>"+jmfe.locale.error_submit_ticket)},success:function(a){"0"===a?jmfe.table.alert.show("error",jmfe.locale.unknown_error):jmfe.table.alert.show(a.status,a.message),"disable"==c&&(b="error"),("enable"==c||"add"==c||"edit"==c&&"error"!=a.status)&&(b="updated"),"error"==a.status&&(b="error"),a.body&&(jmfe.table.loader.show(),$j("#jmfe-form-wrap").html(a.body),jmfe.table.loader.hide(),jmfe.callbacks.list($j))},complete:function(){jmfe.modal.loader.hide(),jmfe.modal.hide();var a=$j(".jmfe-row-"+jmfe.values.meta_key);a&&b&&jmfe.table.flash(a,b)}})},jmfe.modal.tabs={show:function(a){if($j("#jmfe-modal-tab-content .group").hide(),$j("#jmfe-tab-"+a+"-group").show(),$j(".jmfe-modal-config-nav li").removeClass("current"),$j("#jmfe-tab-"+a+"-li").addClass("current"),"populate"==a){var b=$j("#field_meta_key").val(),c=$j("#field_populate_meta_key").val();b&&!c&&$j("#field_populate_meta_key").val("_"+b)}},reset:function(){$j(".jmfe-tab-content-group").show(),$j(".jmfe-tab-nav").show(),$j.each(jmfe.config.tabs.hidden,function(a,b){$j("#jmfe-tab-"+b).hide()}),jmfe.modal.tabs.select_first()},select_first:function(){$j(".jmfe-modal-config-nav li:first a").click()},nav:{hide:function(a){$j("#jmfe-tab-"+a).hide(),jmfe.modal.tabs.select_first()},show:function(a){$j("#jmfe-tab-"+a).show(),jmfe.modal.tabs.select_first()},custom:{show:function(){$j.each(jmfe.config.tabs.custom,function(a,b){$j("#jmfe-tab-"+b).show()})},hide:function(){$j.each(jmfe.config.tabs.custom,function(a,b){$j("#jmfe-tab-"+b).hide()})},check:function(){var a=jmfe.values.origin,b=jmfe.modal.get.action(),c=jmfe.modal.get.meta_key(),d=jmfe.config.meta_keys[c];"custom"===a||"new"===b?jmfe.modal.tabs.nav.custom.show():jmfe.modal.tabs.nav.custom.hide(),d&&d.hidden_tabs&&$j.inArray("packages",d.hidden_tabs)>-1&&jmfe.modal.tabs.nav.hide("packages")}}}},jmfe.modal.taxonomy={set:{edit_url:function(a){$j("#jmfe-modal-field_taxonomy-tr .description").html('<a target="_blank" href="edit-tags.php?taxonomy='+a+'">'+jmfe.locale.tax_options_edit+"</a>")}},show:{edit_url:function(a){a&&jmfe.modal.taxonomy.set.edit_url(a)}}},jmfe.modal.type={check:function(a){a||(a=jmfe.values.type),a||(jmfe.values.type="Unknown");var b=$j('.jmfe-settings-config-content #field_type option[value="'+a+'"]').length;b>0?($j("#jmfe-modal-unknown-field_type").hide(),$j(".jmfe-settings-config-content #field_type").show(),$j("#field_type").data("unknown",""),$j('.jmfe-settings-config-content #field_type option[value="'+a+'"]').prop("selected",!0)):($j("#field_type").data("unknown","true"),$j(".jmfe-settings-config-content #field_type").hide(),$j("#jmfe-modal-unknown-field_type").html(a).show())},changed:function(a){if(jmfe.modal.fields.reset(!0,!0),jmfe.modal.tabs.reset(),jmfe.modal.tabs.nav.custom.check(),jmfe.modal.fields.output.as.checkbox.check(),a&&jmfe.config.types[a]){jmfe.values.type=a;var b=jmfe.config.types[a],c=jmfe.modal.fields,d=jmfe.values.meta_key,e=jmfe.values.taxonomy,f=jmfe.config.meta_keys[d],g=jmfe.config.fields.taxonomies;if(b.hide&&$j.each(b.hide,function(a,b){c.hide(b)}),b.show&&$j.each(b.show,function(a,b){c.show(b)}),b.show_tabs&&$j.each(b.show_tabs,function(a,b){jmfe.modal.tabs.nav.show(b)}),b.hide_tabs&&$j.each(b.hide_tabs,function(a,b){jmfe.modal.tabs.nav.hide(b)}),e)if($j.inArray(d,g)>-1)jmfe.modal.taxonomy.show.edit_url(f.taxonomy);else{if("select"==a)return;jmfe.modal.taxonomy.show.edit_url(e)}var h=$j("#field_output").val();jmfe.modal.fields.output.change(h),jmfe.modal.fields.options.type(b),jmfe.modal.fields.metakey.doconfig()}}},jmfe.table.list.filter=function(a,b,c){jmfe.table.cache.table();var d=c||{};d.action="jmfe_list_filter",d.nonce=$j("#jmfe_list_filter").val(),d.per_page=$j(".screen-per-page").val(),d.field_group=jmfe.table.field_group,d.field_group_parent=jmfe.table.field_group_parent,d.filter=a||jmfe.table.filter,b&&(d.paged=jmfe.__query(b,"paged")||"1",d.order=jmfe.__query(b,"order")||"asc",d.orderby=jmfe.__query(b,"orderby")||"priority"),$j.ajax(ajaxurl,{type:"POST",dataType:"JSON",data:d,beforeSend:function(){jmfe.table.alert.hide(),jmfe.table.loader.show()},error:function(a,b,c){var d;if(a.responseText){d=a.responseText;var e=$j(".xdebug-error th:first",a.responseText).html();e&&(d=e)}else d=jmfe.locale.error+"! "+c;jmfe.table.alert.show("error",d+"<br/>"+jmfe.locale.error_submit_ticket)},success:function(a){"0"===a?jmfe.table.alert.show("error",jmfe.locale.unknown_error):null===a.body?jmfe.table.alert.show("error",jmfe.locale.unknown_error):a.body&&($j("#jmfe-form-wrap").html(a.body),jmfe.callbacks.list($j))},complete:function(){jmfe.table.loader.hide()}})};